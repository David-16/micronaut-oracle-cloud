plugins {
    id "io.micronaut.application"
}

dependencies {
    implementation "io.micronaut.security:micronaut-security-jwt"
    implementation "io.micronaut:micronaut-http-server-netty"
    implementation project(":oci-sdk")
    implementation "com.oracle.oci.sdk:oci-java-sdk-objectstorage"
    runtimeOnly("ch.qos.logback:logback-classic")

    testImplementation "io.micronaut:micronaut-http-client"
    testImplementation("io.micronaut.test:micronaut-test-junit5")
    testRuntimeOnly("org.junit.jupiter:junit-jupiter-engine")
    testAnnotationProcessor "io.micronaut:micronaut-inject-java"
}

mainClassName = "example.Application"
run {
    jvmArgs "-agentlib:native-image-agent=config-output-dir=tmp"
}
nativeImage {
    args('--no-fallback', '--enable-all-security-services')
}